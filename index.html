<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,user-scalable=yes">
<meta name="theme-color" content="#f0b429">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="Ø§Ù„ØµØ§Ø¦Ù… Ø§Ù„ØµØºÙŠØ±">
<meta name="mobile-web-app-capable" content="yes">
<meta name="application-name" content="Ø§Ù„ØµØ§Ø¦Ù… Ø§Ù„ØµØºÙŠØ±">
<title>Ù…ØºØ§Ù…Ø±Ø© Ø§Ù„ØµØ§Ø¦Ù… Ø§Ù„ØµØºÙŠØ± ğŸŒ™</title>
<link rel="manifest" href="./manifest.webmanifest">
<link rel="icon" href="./icon-192.png" type="image/png">
<link rel="apple-touch-icon" href="./apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="./apple-touch-icon.png">
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.min.js"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800;900&family=Amiri:wght@400;700&display=swap" rel="stylesheet">
<style>
/* ============ THEME VARIABLES ============ */
:root,[data-theme="night"]{
  --bg:#0f1b3d;--bg2:#1a2951;--bg3:#243566;
  --accent:#f0b429;--accent2:#fdd868;--accent3:#c98a00;
  --teal:#38c9b0;--teal2:#7eecd9;
  --rose:#e85d75;--green:#52d68a;--purple:#9b59b6;
  --text:#f0e6d3;--muted:#a0b0cc;
  --text-on-accent:#1a1000;    /* dark text on yellow accent */
  --text-on-teal:#fff;
  --text-on-green:#0a2a14;
  --text-on-rose:#fff;
  --text-on-done:#0a2a14;      /* text on green done background */
  --surf:rgba(255,255,255,0.07);--surf2:rgba(255,255,255,0.13);
  --bdr:rgba(240,180,41,0.22);
  --shadow:0 8px 32px rgba(0,0,0,0.45);
  --r:18px;--font:'Tajawal',sans-serif;
}
[data-theme="day"]{
  --bg:#f5f0e8;--bg2:#fffbf0;--bg3:#fff3d0;
  --accent:#8a5c00;--accent2:#c48000;--accent3:#5a3a00;
  --teal:#006b58;--teal2:#009977;
  --rose:#c00028;--green:#1a6b2a;--purple:#5a1fa0;
  --text:#1a1000;--muted:#6a4820;
  --text-on-accent:#fff;
  --text-on-teal:#fff;
  --text-on-green:#fff;
  --text-on-rose:#fff;
  --text-on-done:#fff;
  --surf:rgba(0,0,0,0.05);--surf2:rgba(0,0,0,0.09);
  --bdr:rgba(138,92,0,0.22);
  --shadow:0 4px 16px rgba(0,0,0,0.10);
}
[data-theme="girls"]{
  --bg:#fff5f9;--bg2:#fff0f6;--bg3:#ffe6f0;
  --accent:#c0006a;--accent2:#e8008a;--accent3:#8a004a;
  --teal:#7700b8;--teal2:#aa22e0;
  --rose:#c00040;--green:#6600a0;--purple:#aa00cc;
  --text:#2a0018;--muted:#7a3055;
  --text-on-accent:#fff;
  --text-on-teal:#fff;
  --text-on-green:#fff;
  --text-on-rose:#fff;
  --text-on-done:#fff;
  --surf:rgba(192,0,106,0.06);--surf2:rgba(192,0,106,0.12);
  --bdr:rgba(192,0,106,0.20);
  --shadow:0 4px 16px rgba(150,0,80,0.12);
}
[data-theme="boys"]{
  --bg:#f2f8f3;--bg2:#eaf5ec;--bg3:#d5eedd;
  --accent:#1a6b00;--accent2:#28a000;--accent3:#104500;
  --teal:#005f80;--teal2:#0088aa;
  --rose:#c03000;--green:#005500;--purple:#3a3ab0;
  --text:#0a180a;--muted:#3a5a32;
  --text-on-accent:#fff;
  --text-on-teal:#fff;
  --text-on-green:#fff;
  --text-on-rose:#fff;
  --text-on-done:#fff;
  --surf:rgba(26,107,0,0.06);--surf2:rgba(26,107,0,0.12);
  --bdr:rgba(26,107,0,0.20);
  --shadow:0 4px 16px rgba(0,80,0,0.10);
}

/* ============ BASE ============ */
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html{font-size:16px}
body{
  font-family:var(--font);background:var(--bg);color:var(--text);
  direction:rtl;text-align:right;min-height:100vh;
  overflow-x:hidden;-webkit-tap-highlight-color:transparent;
  transition:background 0.3s,color 0.3s;
}
body::before{
  content:'';position:fixed;inset:0;pointer-events:none;z-index:0;
  background:radial-gradient(1px 1px at 20% 30%,rgba(255,255,255,0.4) 0%,transparent 100%),
    radial-gradient(1px 1px at 60% 20%,rgba(255,255,255,0.5) 0%,transparent 100%),
    radial-gradient(1px 1px at 80% 70%,rgba(255,255,255,0.3) 0%,transparent 100%),
    radial-gradient(1px 1px at 35% 55%,rgba(240,180,41,0.3) 0%,transparent 100%);
}
[data-theme="day"] body::before,[data-theme="girls"] body::before,[data-theme="boys"] body::before{opacity:0.2}
#app{max-width:520px;margin:0 auto;min-height:100vh;position:relative;z-index:1;padding-bottom:90px}

/* ====== RAMADAN PATH MAP ====== */
/* ====== RAMADAN GAME PATH MAP ====== */
#ramadan-path-map{padding:10px 0 20px;position:relative;user-select:none}
.rpath-row{display:flex;align-items:center;justify-content:center;gap:0;margin-bottom:0;position:relative}
.rpath-row.rtl-row{flex-direction:row-reverse}

/* The path connector line */
.rpath-line{flex:1;height:6px;border-radius:3px;background:var(--bdr);position:relative;min-width:10px;max-width:32px}
.rpath-line.done-line{background:linear-gradient(90deg,var(--green),#38d988)}
.rpath-line.today-line{background:linear-gradient(90deg,var(--green),var(--accent))}

/* Vertical connector between rows */
.rpath-vline-wrap{display:flex;align-items:center;justify-content:flex-start;padding-right:24px;margin:0}
.rpath-vline-wrap.rtl-side{justify-content:flex-end;padding-right:0;padding-left:24px}
.rpath-vline{width:6px;height:28px;border-radius:3px;background:var(--bdr)}
.rpath-vline.done-vline{background:linear-gradient(180deg,var(--green),#38d988)}

/* Day node */
.rday{width:52px;height:52px;border-radius:50%;display:flex;flex-direction:column;align-items:center;justify-content:center;font-family:var(--font);cursor:default;position:relative;flex-shrink:0;transition:transform .2s;border:3px solid transparent}

/* States */
.rday.rd-done{background:linear-gradient(135deg,#2ecc71,#27ae60);border-color:#27ae60;box-shadow:0 3px 10px rgba(46,204,113,0.4)}
.rday.rd-done .rday-num{color:#fff;font-weight:900;font-size:0.9rem}
.rday.rd-done .rday-icon{font-size:1rem}

.rday.rd-missed{background:linear-gradient(135deg,#e74c3c,#c0392b);border-color:#c0392b;box-shadow:0 3px 8px rgba(231,76,60,0.35)}
.rday.rd-missed .rday-num{color:#fff;font-weight:900;font-size:0.9rem}
.rday.rd-missed .rday-icon{font-size:1rem}

.rday.rd-today{background:linear-gradient(135deg,var(--accent),#f5a623);border-color:var(--accent);box-shadow:0 0 0 4px rgba(240,180,41,0.3),0 3px 12px rgba(240,180,41,0.5);animation:pulse-today 2s ease-in-out infinite}
.rday.rd-today .rday-num{color:#1a1a1a;font-weight:900;font-size:0.9rem}
.rday.rd-today .rday-icon{font-size:1.1rem}

.rday.rd-locked{background:var(--surf2);border-color:var(--bdr);opacity:0.5}
.rday.rd-locked .rday-num{color:var(--muted);font-size:0.85rem}
.rday.rd-locked .rday-icon{font-size:0.85rem}

/* Milestone nodes (days 7,14,21,30) â€” bigger */
.rday.rd-milestone{width:62px;height:62px}
.rday.rd-milestone .rday-num{font-size:0.95rem}
.rday.rd-milestone .rday-icon{font-size:1.3rem}

.rday-num{line-height:1;margin-bottom:1px}
.rday-icon{line-height:1}

@keyframes pulse-today{
  0%,100%{box-shadow:0 0 0 4px rgba(240,180,41,0.3),0 3px 12px rgba(240,180,41,0.5)}
  50%{box-shadow:0 0 0 8px rgba(240,180,41,0.15),0 3px 16px rgba(240,180,41,0.6)}
}

/* Path legend */
.path-legend{display:flex;gap:10px;justify-content:center;flex-wrap:wrap;margin-top:8px;margin-bottom:16px}
.legend-item{display:flex;align-items:center;gap:5px;font-size:0.72rem;color:var(--muted)}
.legend-dot{width:12px;height:12px;border-radius:50%}

/* Milestone label */
.milestone-label{position:absolute;top:-22px;left:50%;transform:translateX(-50%);white-space:nowrap;font-size:0.62rem;font-weight:700;color:var(--accent);background:rgba(240,180,41,0.15);border:1px solid rgba(240,180,41,0.3);padding:1px 6px;border-radius:8px}

#ramadan-path-map{padding:10px 0 20px;position:relative}
.path-section{position:relative;padding:0 8px}
.path-row{display:flex;align-items:flex-end;justify-content:center;padding:4px 0}
.path-row.ltr{flex-direction:row}
.path-row.rtl{flex-direction:row-reverse}
.path-node{display:flex;flex-direction:column;align-items:center;width:60px;flex-shrink:0;position:relative}
.path-connector{width:14px;height:4px;background:var(--bdr);border-radius:2px;align-self:center;margin-bottom:26px;flex-shrink:0}
.path-connector.done-conn{background:#22c55e}
.path-connector.miss-conn{background:#ef4444}
.path-connector.today-conn{background:linear-gradient(90deg,#22c55e,var(--accent))}

.path-btn{width:52px;height:52px;border-radius:50%;border:3px solid var(--bdr);
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  font-size:1.25rem;position:relative;transition:transform .15s;
  background:var(--surf2);box-shadow:0 3px 8px rgba(0,0,0,.25);cursor:default}
.path-btn .day-num{font-size:0.58rem;font-weight:900;line-height:1;margin-top:1px;color:rgba(255,255,255,.85)}
.path-btn .day-lbl{font-size:0.6rem;font-weight:700;margin-top:4px;color:var(--muted);text-align:center;max-width:58px;line-height:1.2;white-space:nowrap}

.path-btn.st-done{background:linear-gradient(145deg,#22c55e,#15803d);border-color:#16a34a;box-shadow:0 4px 12px rgba(34,197,94,.4)}
.path-btn.st-today{background:linear-gradient(145deg,#f0b429,#d97706);border-color:#f0b429;width:60px;height:60px;font-size:1.45rem;
  box-shadow:0 0 0 5px rgba(240,180,41,.25),0 4px 16px rgba(240,180,41,.5);
  animation:pulseToday 2s ease-in-out infinite}
.path-btn.st-missed{background:linear-gradient(145deg,#ef4444,#b91c1c);border-color:#dc2626;box-shadow:0 4px 12px rgba(239,68,68,.4)}
.path-btn.st-locked{background:var(--surf);border-color:var(--bdr);opacity:.5}
.path-btn.st-done .day-num,.path-btn.st-today .day-num,.path-btn.st-missed .day-num{color:#fff}
@keyframes pulseToday{0%,100%{box-shadow:0 0 0 5px rgba(240,180,41,.25),0 4px 16px rgba(240,180,41,.5)}50%{box-shadow:0 0 0 10px rgba(240,180,41,.1),0 4px 20px rgba(240,180,41,.65)}}

/* SVG curve between rows */
.path-turn{display:flex;justify-content:center;height:34px;overflow:visible;margin:0 4px}
.path-milestone{background:rgba(240,180,41,.1);border:1.5px solid var(--accent);border-radius:12px;
  padding:6px 14px;margin:8px 14px 10px;text-align:center;font-size:0.78rem;
  font-weight:700;color:var(--accent);display:flex;align-items:center;justify-content:center;gap:6px}

/* Parent tab buttons â€” 2-row grid */
.ptab-btn{background:var(--surf);border:1.5px solid var(--bdr);border-radius:12px;padding:10px 6px;
  font-family:var(--font);font-size:0.78rem;font-weight:700;color:var(--muted);cursor:pointer;
  display:flex;flex-direction:column;align-items:center;gap:4px;transition:all .15s;min-height:58px;line-height:1.2}
.ptab-btn span{font-size:0.75rem}
.ptab-btn.active,.ptab-btn:active{background:var(--accent);border-color:var(--accent);color:#000}
.ptab-btn:hover:not(.active){border-color:var(--accent);color:var(--accent)}

/* ===== COMPREHENSIVE RESPONSIVE DESIGN ===== */
/* Base: prevent ALL overflow */
*{box-sizing:border-box}
img,video,iframe{max-width:100%;height:auto}
.screen{padding:16px 14px;overflow-x:hidden}

/* Cards don't overflow */
.card{overflow:hidden;word-break:break-word}
.child-card,.shop-item,.deed-btn,.quest-item{word-break:break-word;overflow:hidden}

/* Text truncation for names */
.child-card .bold,.shop-item .bold{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:100%}

/* ---- 320px â€” very small phones ---- */
@media(max-width:360px){
  html{font-size:13.5px}
  .screen{padding:12px 10px}
  .timer-display{font-size:2rem!important}
  .welcome-title{font-size:1.7rem}
  .welcome-moon{font-size:3.5rem}
  .stats-grid{grid-template-columns:repeat(2,1fr)!important}
  .deeds-grid{grid-template-columns:repeat(2,1fr)!important}
  .ptab-btn{font-size:0.7rem;padding:8px 4px;min-height:52px}
  .ptab-btn span{font-size:0.68rem}
  #app{padding-bottom:70px}
  .btn{font-size:0.9rem;padding:11px 14px}
  .cert-name{font-size:1.4rem!important}
}

/* ---- 361â€“480px â€” typical phones ---- */
@media(min-width:361px) and (max-width:480px){
  html{font-size:15px}
  .stats-grid{grid-template-columns:repeat(2,1fr)!important}
}

/* ---- 481â€“767px â€” large phones / small tablets ---- */
@media(min-width:481px){
  html{font-size:15.5px}
  .deeds-grid{grid-template-columns:repeat(3,1fr)!important}
  .stats-grid{grid-template-columns:repeat(4,1fr)!important}
  .ach-grid{grid-template-columns:repeat(4,1fr)!important}
  .shop-grid{grid-template-columns:repeat(3,1fr)!important}
  #app{max-width:540px}
  #nav{max-width:540px}
}

/* ---- 768px+ â€” tablets ---- */
@media(min-width:768px){
  html{font-size:16.5px}
  .screen{padding:22px 20px}
  #app{max-width:620px}
  #nav{max-width:620px}
  .ptab-btn{font-size:0.85rem;padding:12px 8px}
}

/* ---- 1024px+ â€” desktop ---- */
@media(min-width:1024px){
  html{font-size:17px}
  #app{max-width:700px}
  #nav{max-width:700px}
}
  #sync-indicator{position:fixed;top:8px;left:50%;transform:translateX(-50%);background:var(--accent);color:#000;padding:3px 12px;border-radius:18px;font-size:0.72rem;font-weight:700;opacity:0;transition:opacity .3s;z-index:999;pointer-events:none}
  #sync-indicator.syncing{opacity:1}
  /* ============ RESPONSIVE BREAKPOINTS ============ */
@media(max-width:375px){html{font-size:14px}.timer-display{font-size:2.2rem}.cert-name{font-size:1.5rem}}
@media(min-width:600px){.deeds-grid{grid-template-columns:repeat(3,1fr)}.stats-grid{grid-template-columns:repeat(4,1fr)}.ach-grid{grid-template-columns:repeat(4,1fr)}.shop-grid{grid-template-columns:repeat(3,1fr)}}
@media(min-width:768px){html{font-size:17px}#app{max-width:600px}#nav{max-width:600px}.screen{padding:24px 20px}}
@media(min-width:1024px){html{font-size:18px}#app{max-width:680px}#nav{max-width:680px}}
/* Prevent horizontal overflow */
*{max-width:100%;word-break:break-word}

/* ============ SCREENS ============ */
.screen{display:none;flex-direction:column;padding:20px 16px;min-height:calc(100vh - 80px);animation:fadeIn .2s ease}
.screen.active{display:flex}
@keyframes fadeIn{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}
.screen-title{font-size:1.3rem;font-weight:900;color:var(--accent);margin-bottom:16px;text-align:center}

/* ============ BUTTONS ============ */
.btn{
  display:inline-flex;align-items:center;justify-content:center;gap:6px;
  padding:13px 20px;border-radius:var(--r);border:none;font-family:var(--font);
  font-size:1rem;font-weight:700;cursor:pointer;transition:all .2s;min-height:44px;
}
.btn:active{transform:scale(0.95);opacity:0.9}
.btn-block{width:100%}
.btn-lg{padding:16px 24px;font-size:1.1rem;border-radius:22px}
.btn-sm{padding:9px 13px;font-size:0.85rem;border-radius:11px;min-height:40px}
.btn-primary{background:var(--accent);color:var(--text-on-accent)}
.btn-secondary{background:var(--teal);color:var(--text-on-accent)}
.btn-danger{background:var(--rose);color:#fff}
.btn-ghost{background:var(--surf);color:var(--text);border:1.5px solid var(--bdr)}
.btn-outline{background:transparent;color:var(--accent);border:2px solid var(--accent)}
.btn-success{background:var(--green);color:#fff}
.btn:disabled{opacity:0.4;cursor:not-allowed;transform:none}

/* ============ CARDS / FORMS ============ */
.card{background:var(--surf);border:1px solid var(--bdr);border-radius:var(--r);padding:16px;margin-bottom:10px}
.card-accent{border-color:var(--accent);background:rgba(240,180,41,0.06)}
input,textarea,select{
  width:100%;padding:11px 13px;background:var(--surf);border:1.5px solid var(--bdr);
  border-radius:12px;color:var(--text);font-family:var(--font);font-size:1rem;outline:none;min-height:44px;
}
input:focus,textarea:focus,select:focus{border-color:var(--accent)}
select option{background:var(--bg2);color:var(--text)}
input[type=range]{-webkit-appearance:none;appearance:none;height:6px;border-radius:3px;background:var(--surf2);padding:0;border:none}
input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;width:22px;height:22px;border-radius:50%;background:var(--accent);cursor:pointer}

/* ============ UTILS ============ */
.hidden{display:none!important}
.flex{display:flex;align-items:center}
.flex-col{display:flex;flex-direction:column}
.gap-6{gap:6px}.gap-8{gap:8px}.gap-10{gap:10px}.gap-12{gap:12px}
.mt-8{margin-top:8px}.mt-12{margin-top:12px}.mt-16{margin-top:16px}
.mb-8{margin-bottom:8px}.mb-12{margin-bottom:12px}
.text-center{text-align:center}.text-sm{font-size:0.88rem}.text-xs{font-size:0.74rem}
.text-muted{color:var(--muted)}.bold{font-weight:700}.text-accent{color:var(--accent)}
.grid2{display:grid;grid-template-columns:1fr 1fr;gap:8px}
.grid3{display:grid;grid-template-columns:1fr 1fr 1fr;gap:8px}

/* ============ WELCOME ============ */
.welcome-wrap{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:18px;text-align:center;padding:20px 0}
.welcome-moon{font-size:5rem;animation:float 3s ease-in-out infinite}
@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}
.welcome-title{font-size:2.1rem;font-weight:900;font-family:'Amiri',serif;line-height:1.2;color:var(--accent)}
.welcome-sub{color:var(--muted);font-size:0.95rem}
.profile-entry-btn{background:var(--surf);border:1.5px solid var(--bdr);border-radius:16px;padding:11px 14px;display:flex;align-items:center;gap:12px;width:100%;color:var(--text);font-family:var(--font);font-size:0.95rem;font-weight:700;cursor:pointer}
.profile-entry-btn:active{transform:scale(0.97)}

/* ============ SETUP ============ */
.setup-step{display:none;flex-direction:column;gap:12px;flex:1}
.setup-step.active{display:flex}
.step-hdr{text-align:center;margin-bottom:6px}
.step-icon{font-size:3rem}
.avatar-tabs{display:flex;gap:6px;overflow-x:auto;padding-bottom:4px;margin-bottom:8px}
.avatar-tab{flex-shrink:0;padding:5px 12px;border-radius:20px;border:1.5px solid var(--bdr);background:var(--surf);font-size:0.8rem;cursor:pointer;color:var(--muted);font-family:var(--font);font-weight:700}
.avatar-tab.active{background:var(--accent);color:var(--text-on-accent);border-color:var(--accent)}
.avatar-grid{display:grid;grid-template-columns:repeat(5,1fr);gap:8px}
.av-btn{aspect-ratio:1;background:var(--surf);border:2px solid var(--bdr);border-radius:12px;font-size:1.6rem;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .15s}
.av-btn.selected{border-color:var(--accent);background:rgba(240,180,41,0.12);transform:scale(1.1)}
.hero-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px}
.hero-btn{background:var(--surf);border:2px solid var(--bdr);border-radius:14px;padding:12px 8px;text-align:center;cursor:pointer;transition:all .15s}
.hero-btn.selected{border-color:var(--accent);background:rgba(240,180,41,0.12)}
.hero-icon{font-size:1.8rem}
.color-grid{display:grid;grid-template-columns:repeat(8,1fr);gap:6px}
.color-sw{aspect-ratio:1;border-radius:50%;cursor:pointer;border:3px solid transparent;transition:all .15s;min-height:28px}
.color-sw.selected{border-color:var(--text);transform:scale(1.2)}
.diff-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:10px}
.diff-btn{background:var(--surf);border:2px solid var(--bdr);border-radius:14px;padding:14px 6px;text-align:center;cursor:pointer;transition:all .15s}
.diff-btn.selected{border-color:var(--accent);background:rgba(240,180,41,0.12)}
.slider-lbl{display:flex;justify-content:space-between;font-weight:700;font-size:0.9rem;margin-bottom:5px}
.slider-val{color:var(--accent);font-weight:900}
.total-info{text-align:center;padding:8px 12px;border-radius:12px;background:var(--surf);font-size:0.85rem;font-weight:700;color:var(--teal)}

/* ============ NAV ============ */
#nav{position:fixed;bottom:0;left:50%;transform:translateX(-50%);width:100%;max-width:520px;background:var(--bg2);border-top:1px solid var(--bdr);display:none;grid-template-columns:repeat(5,1fr);z-index:100;padding-bottom:env(safe-area-inset-bottom,0)}
#nav.show{display:grid}
.nav-btn{display:flex;flex-direction:column;align-items:center;padding:10px 2px;background:none;border:none;color:var(--muted);font-family:var(--font);font-size:0.68rem;cursor:pointer;gap:2px;transition:color .15s;min-height:52px}
.nav-btn.active{color:var(--accent)}
.nav-i{font-size:1.25rem}

/* ============ HOME ============ */
.home-hdr{display:flex;align-items:center;gap:12px;margin-bottom:14px}
.home-av{font-size:2.8rem;cursor:pointer}
.home-name{font-size:1.25rem;font-weight:900}
.home-greet{font-size:0.82rem;color:var(--muted)}
.day-badge{background:var(--accent);color:var(--text-on-accent);font-weight:900;padding:4px 12px;border-radius:20px;font-size:0.88rem;white-space:nowrap;flex-shrink:0}
.timer-card{background:linear-gradient(135deg,var(--bg2),var(--bg3));border:2px solid var(--accent);border-radius:24px;padding:18px;text-align:center;margin-bottom:14px}
.timer-lbl{color:var(--muted);font-size:0.82rem}
.timer-name{font-size:1.05rem;font-weight:700;color:var(--accent);margin:2px 0 6px}
.timer-display{font-size:2.8rem;font-weight:900;font-variant-numeric:tabular-nums;letter-spacing:2px}
.prog-track{height:8px;background:var(--surf);border-radius:4px;position:relative;overflow:visible;margin-top:12px}
.prog-fill{height:100%;border-radius:4px;background:linear-gradient(90deg,var(--teal),var(--accent));transition:width .5s}
.prog-labels{display:flex;justify-content:space-between;font-size:0.72rem;color:var(--muted);margin-bottom:3px}
.prog-marker{position:absolute;top:-4px;width:16px;height:16px;border-radius:50%;background:var(--accent);border:2px solid var(--bg);transform:translateX(50%);transition:right .5s}
.status-card{border-radius:16px;padding:12px 14px;margin-bottom:12px;font-size:0.9rem}
.status-pending{background:var(--surf);border:1.5px solid var(--accent)}
.status-success{background:rgba(82,214,138,0.1);border:1.5px solid var(--green)}
.status-broke{background:rgba(232,93,117,0.1);border:1.5px solid var(--rose)}
.quiz-banner{background:linear-gradient(135deg,var(--bg2),rgba(240,180,41,0.1));border:2px solid var(--accent);border-radius:18px;padding:16px;display:flex;align-items:center;gap:12px;margin-bottom:14px}
.section-hdr{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
.section-title{font-weight:800;font-size:0.95rem}
.badge{background:var(--accent);color:var(--text-on-accent);font-size:0.72rem;font-weight:700;padding:2px 8px;border-radius:10px}
.deeds-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:8px;margin-bottom:12px}
.deed-btn{background:var(--surf);border:2px solid var(--bdr);border-radius:13px;padding:10px 6px;text-align:center;cursor:pointer;transition:all .15s;font-family:var(--font);min-height:78px;position:relative;color:var(--text)}
.deed-btn .deed-icon{font-size:1.6rem;display:block}
.deed-btn .deed-name{font-size:0.72rem;font-weight:700;display:block;margin:4px 0 2px;color:var(--text);line-height:1.2}
.deed-btn .deed-pts{font-size:0.68rem;color:var(--accent);font-weight:700}
.deed-btn.done{border-color:var(--green);background:rgba(82,214,138,0.18)}
.deed-btn.done .deed-name,.deed-btn.done .deed-pts{color:var(--text-on-done)}
.deed-btn.pending-approval{border-color:var(--accent);background:rgba(240,180,41,0.12)}
.deed-btn.pending-approval .deed-pts{color:var(--accent)}
.deed-icon{font-size:1.4rem}
.deed-name{font-size:0.74rem;font-weight:700;margin-top:3px}
.deed-pts{font-size:0.68rem;color:var(--accent)}
.quest-item{background:var(--surf);border:1px solid var(--bdr);border-radius:12px;padding:9px 11px;display:flex;align-items:center;gap:9px;cursor:pointer;margin-bottom:6px;font-family:var(--font);min-height:48px}
.q-check{width:22px;height:22px;border-radius:50%;border:2px solid var(--bdr);display:flex;align-items:center;justify-content:center;flex-shrink:0;font-size:0.72rem;font-weight:900;transition:all .15s}
.q-check.done{background:var(--green);border-color:var(--green);color:#fff}
.q-pts{color:var(--accent);font-weight:700;font-size:0.82rem;flex-shrink:0}
.bad-deed-item{background:rgba(232,93,117,0.08);border:1px solid var(--rose);border-radius:11px;padding:8px 12px;display:flex;align-items:center;gap:8px;margin-bottom:5px;font-size:0.85rem}
.pts-popup{position:fixed;font-size:1.3rem;font-weight:900;color:var(--accent);pointer-events:none;z-index:9000;animation:ptsFly 1.2s ease forwards}
@keyframes ptsFly{0%{opacity:1;transform:translateY(0) scale(1)}100%{opacity:0;transform:translateY(-80px) scale(1.3)}}
.pts-neg{color:var(--rose)}
.notif-bar{background:var(--surf);border:1px solid var(--bdr);border-radius:13px;padding:10px 13px;display:flex;align-items:center;gap:9px;margin-bottom:10px}
.install-bar{background:linear-gradient(135deg,rgba(240,180,41,0.12),rgba(56,201,176,0.12));border:2px solid var(--accent);border-radius:14px;padding:12px 14px;display:flex;align-items:center;gap:10px;margin-bottom:10px}

/* ============ PROGRESS ============ */
.xp-bar-wrap{background:var(--surf);border:1px solid var(--bdr);border-radius:15px;padding:13px;margin-bottom:12px}
.xp-header{display:flex;justify-content:space-between;margin-bottom:5px}
.level-badge{background:var(--accent);color:var(--text-on-accent);padding:3px 10px;border-radius:10px;font-size:0.78rem;font-weight:700}
.xp-track{height:10px;background:var(--surf2);border-radius:5px;overflow:hidden}
.xp-fill{height:100%;background:linear-gradient(90deg,var(--teal),var(--accent));transition:width .5s}
.stats-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:8px;margin-bottom:12px}
.stat-card{background:var(--surf);border:1px solid var(--bdr);border-radius:13px;padding:11px;text-align:center}
.stat-val{font-size:1.5rem;font-weight:900;color:var(--accent)}
.stat-lbl{font-size:0.72rem;color:var(--muted);margin-top:2px}
.journey-item{display:flex;align-items:center;gap:10px;padding:9px 12px;border-radius:11px;background:var(--surf);border:1px solid var(--bdr);margin-bottom:6px}
.journey-item.done{border-color:var(--green)}
.journey-item.current{border-color:var(--accent);background:rgba(240,180,41,0.07)}
.ach-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:7px}
.ach-card{background:var(--surf);border:1px solid var(--bdr);border-radius:11px;padding:9px 5px;text-align:center}
.ach-card.unlocked{border-color:var(--accent);background:rgba(240,180,41,0.08)}

/* ============ LOG ============ */
.log-item{background:var(--surf);border:1px solid var(--bdr);border-radius:11px;padding:9px 12px;margin-bottom:6px;font-size:0.85rem}
.log-pending{border-color:var(--accent)}
.log-approved{border-color:var(--green)}
.log-rejected{border-color:var(--rose)}
.log-meta{display:flex;justify-content:space-between;align-items:center;font-size:0.75rem;color:var(--muted);margin-top:4px}

/* ============ SHOP ============ */
.shop-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:9px}
.shop-item{background:var(--surf);border:1px solid var(--bdr);border-radius:15px;padding:13px;text-align:center}
.shop-item.owned{border-color:var(--green)}

/* ============ PARENT ============ */
.parent-lock{display:flex;flex-direction:column;align-items:center;gap:13px;text-align:center;padding:18px 0}
.math-q{font-size:1.9rem;font-weight:900;background:var(--surf);padding:12px 24px;border-radius:14px;color:var(--accent)}
.table-wrap{overflow-x:auto;border-radius:12px;border:1px solid var(--bdr)}
table{width:100%;border-collapse:collapse;font-size:0.82rem}
th{background:var(--bg3);padding:8px 10px;font-weight:700;color:var(--accent);border-bottom:1px solid var(--bdr);white-space:nowrap}
td{padding:8px 10px;border-bottom:1px solid var(--surf);color:var(--text);vertical-align:middle}
tr:last-child td{border-bottom:none}
tr:hover td{background:var(--surf)}
.child-card{display:flex;align-items:center;gap:11px;background:var(--surf);border:1.5px solid var(--bdr);border-radius:14px;padding:11px 13px;margin-bottom:7px}

/* ============ QUIZ ============ */
.quiz-prog{height:6px;background:var(--surf);border-radius:3px;margin-bottom:13px;overflow:hidden}
.quiz-prog-fill{height:100%;background:linear-gradient(90deg,var(--teal),var(--accent));border-radius:3px;transition:width .3s}
.quiz-meta{display:flex;justify-content:space-between;align-items:center;margin-bottom:14px;font-size:0.83rem}
.quiz-q{background:var(--surf2);border:2px solid var(--bdr);border-radius:15px;padding:16px;font-size:1.05rem;font-weight:700;line-height:1.6;text-align:center;margin-bottom:14px;color:var(--text)}
.quiz-opts{display:flex;flex-direction:column;gap:9px}
.quiz-opt{background:var(--surf);border:2px solid var(--bdr);border-radius:13px;padding:12px 15px;font-size:0.92rem;font-weight:600;color:var(--text);font-family:var(--font);text-align:right;cursor:pointer;transition:all .2s;width:100%}
.quiz-opt:active{transform:scale(0.97)}
.quiz-opt:hover:not(:disabled){background:var(--surf2);border-color:var(--accent);transform:scale(1.01)}
.quiz-opt.correct{background:#1e8449;border-color:#1a7a3a;color:#fff!important;font-weight:800}
.quiz-opt.wrong{background:#922b21;border-color:#7b241c;color:#fff!important;font-weight:800}
.quiz-opt:disabled{cursor:not-allowed;opacity:.85}
.quiz-fb{margin-top:11px;padding:11px 15px;border-radius:13px;font-weight:800;text-align:center;font-size:0.95rem}
.quiz-fb.correct{background:#1e8449;color:#fff;border:2px solid #1a7a3a}
.quiz-fb.wrong{background:#922b21;color:#fff;border:2px solid #7b241c}
.quiz-locked{text-align:center;padding:30px 20px}
.quiz-locked-icon{font-size:3.5rem;margin-bottom:12px}

/* ============ CERTIFICATE ============ */
.cert-frame{background:linear-gradient(160deg,#1a2a5e,#0f1b3d,#1a0a3d);border:3px solid var(--accent);border-radius:24px;padding:26px 18px;text-align:center;position:relative;overflow:hidden}
[data-theme="day"] .cert-frame,[data-theme="girls"] .cert-frame,[data-theme="boys"] .cert-frame{background:linear-gradient(160deg,var(--bg2),var(--bg3))}
.cert-frame::before{content:'';position:absolute;inset:6px;border:1px solid rgba(240,180,41,0.3);border-radius:18px;pointer-events:none}
.cert-name{font-size:1.9rem;font-weight:900;font-family:'Amiri',serif}
.cert-row{display:flex;justify-content:center;gap:20px;font-size:0.95rem;font-weight:700;color:var(--teal);margin:10px 0}

/* ============ THEME PREVIEW ============ */
.theme-preview{background:var(--surf);border:1px solid var(--bdr);border-radius:14px;padding:13px;margin-bottom:8px}
.theme-preview-title{font-weight:800;font-size:0.9rem;color:var(--accent);margin-bottom:8px}
.preview-row{display:flex;gap:6px;flex-wrap:wrap;margin-bottom:6px}

/* ============ THEME SWITCHER ============ */
.theme-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:8px;margin:8px 0}
.theme-btn{border-radius:13px;padding:11px 5px;font-family:var(--font);font-size:0.78rem;font-weight:700;cursor:pointer;border:2px solid transparent;transition:all .2s;display:flex;flex-direction:column;align-items:center;gap:3px}
.theme-btn:active{transform:scale(0.95)}
.theme-btn.active{border-color:var(--text)!important;transform:scale(1.05)}
.t-night{background:linear-gradient(135deg,#1a2951,#0f1b3d);color:#f0e6d3}
.t-day{background:linear-gradient(135deg,#fff3d0,#f5f0e8);color:#1a1000;border-color:#8a5c00}
.t-girls{background:linear-gradient(135deg,#ffe6f0,#fff0f6);color:#2a0018;border-color:#c0006a}
.t-boys{background:linear-gradient(135deg,#d5eedd,#eaf5ec);color:#0a180a;border-color:#1a6b00}

/* ============ MODAL ============ */
.overlay{position:fixed;inset:0;background:rgba(0,0,0,0.72);z-index:500;display:flex;align-items:flex-end;justify-content:center;animation:fadeIn .2s}
.overlay.center{align-items:center}
.sheet{background:var(--bg2);border-radius:24px 24px 0 0;padding:18px 15px 30px;width:100%;max-width:480px;border-top:1px solid var(--bdr);max-height:88vh;overflow-y:auto}
.sheet.center-sheet{border-radius:20px;margin:16px}
.sheet-handle{width:38px;height:4px;background:var(--surf2);border-radius:2px;margin:0 auto 14px}
.modal-title{font-size:1.05rem;font-weight:800;color:var(--accent);margin-bottom:13px;text-align:center}

/* ============ TOAST & CONFETTI ============ */
#toast{position:fixed;top:18px;left:50%;transform:translateX(-50%) translateY(-10px);background:var(--bg2);border:1.5px solid var(--accent);border-radius:20px;padding:9px 18px;font-size:0.88rem;font-weight:700;z-index:9999;white-space:nowrap;max-width:90vw;box-shadow:var(--shadow);opacity:0;pointer-events:none;transition:all .3s}
#toast.show{opacity:1;transform:translateX(-50%) translateY(0)}
.conf-p{position:fixed;pointer-events:none;z-index:9998;border-radius:2px;animation:confFall linear forwards}
@keyframes confFall{0%{transform:translateY(-10px) rotate(0deg);opacity:1}100%{transform:translateY(100vh) rotate(720deg);opacity:0}}

/* ============ EID ============ */
.eid-wrap{text-align:center;padding:26px 18px}
.winner-card{background:linear-gradient(135deg,rgba(240,180,41,0.15),rgba(56,201,176,0.1));border:2px solid var(--accent);border-radius:18px;padding:16px;margin:12px 0}

/* ============ PRINT ============ */
@media print{body *{visibility:hidden}#screen-certificate,#screen-certificate *{visibility:visible}#screen-certificate{position:fixed;top:0;left:0;right:0;bottom:0}nav,.btn,button{display:none!important}}

/* ============ INVENTORY STRIP ============ */
#inv-strip{display:flex;flex-wrap:wrap;gap:8px}
.inv-card{background:var(--surf2);border:1.5px solid var(--bdr);border-radius:12px;padding:8px 10px;display:flex;flex-direction:column;align-items:center;gap:3px;min-width:60px}
.inv-ic{font-size:1.5rem}
.inv-n{font-size:0.62rem;font-weight:700;color:var(--muted);text-align:center;line-height:1.2}

/* ============ GIFT CARD ============ */
.gift-card{display:flex;align-items:center;gap:10px;background:linear-gradient(135deg,rgba(240,180,41,0.08),rgba(56,201,176,0.05));border:1.5px solid var(--accent);border-radius:13px;padding:10px 12px;margin-bottom:7px}
.gift-ic{font-size:2rem;flex-shrink:0}
.gift-b{flex:1;min-width:0}
.gift-t{font-weight:700;font-size:0.9rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.gift-m{display:flex;gap:6px;margin-top:4px;flex-wrap:wrap}

/* ============ KID-FRIENDLY IMPROVEMENTS ============ */
/* Larger tap targets for kids */
.deed-btn{min-height:88px;font-size:1rem}
.deed-btn .deed-icon{font-size:2rem}
.quest-item{min-height:56px}
.nav-btn{min-height:58px}
/* Bounce on tap for deeds */
.deed-btn:active{transform:scale(0.93) !important;transition:transform .1s}
/* Fun wiggle for done items */
@keyframes wiggle{0%,100%{transform:rotate(0deg)}25%{transform:rotate(-6deg)}75%{transform:rotate(6deg)}}
.deed-btn.done .deed-icon{animation:wiggle .5s ease}
/* Star burst for quest complete */
@keyframes starPop{0%{transform:scale(0.5);opacity:0}60%{transform:scale(1.3)}100%{transform:scale(1);opacity:1}}
.q-check.done{animation:starPop .3s ease forwards}
/* Pulse ring on today node */
@keyframes pulse-today{0%,100%{box-shadow:0 0 0 4px rgba(240,180,41,0.3),0 3px 12px rgba(240,180,41,0.5)}50%{box-shadow:0 0 0 10px rgba(240,180,41,0.12),0 3px 20px rgba(240,180,41,0.65)}}
</style>
</head>
<body data-theme="night">
<div id="sync-indicator">ğŸ”„ ØªØ­Ø¯ÙŠØ«...</div>
<div id="app">

<!-- ===== WELCOME ===== -->
<!-- ===== LANDING (Role Selection) ===== -->
<div id="screen-welcome" class="screen active">
  <div class="welcome-wrap" style="gap:14px">
    <div class="welcome-moon">ğŸŒ™</div>
    <h1 class="welcome-title">Ù…ØºØ§Ù…Ø±Ø©<br>Ø§Ù„ØµØ§Ø¦Ù… Ø§Ù„ØµØºÙŠØ±</h1>
    <p class="welcome-sub">Ø±Ù…Ø¶Ø§Ù† Ù…Ø¨Ø§Ø±Ùƒ 1447 Ù‡Ù€ ğŸ¤²</p>

    <!-- WHO ARE YOU? -->
    <div style="width:100%;max-width:320px">
      <p class="bold text-center mb-8" style="font-size:1.05rem">Ù…Ù† Ø£Ù†ØªØŸ</p>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:14px">

        <!-- KID CARD -->
        <button id="btn-role-kid" style="background:linear-gradient(145deg,rgba(240,180,41,0.18),rgba(240,180,41,0.05));border:2px solid var(--accent);border-radius:18px;padding:22px 10px;cursor:pointer;font-family:var(--font);transition:transform .15s,box-shadow .15s;display:flex;flex-direction:column;align-items:center;gap:8px" onmouseover="this.style.transform='scale(1.04)'" onmouseout="this.style.transform='scale(1)'">
          <span style="font-size:3rem">ğŸ§’</span>
          <span class="bold" style="font-size:1rem;color:var(--accent)">Ø£Ù†Ø§ Ø·ÙÙ„</span>
          <span class="text-xs text-muted">Ø§Ù„Ø¹Ø¨ ÙˆØªÙ†Ø§ÙØ³!</span>
        </button>

        <!-- PARENT CARD -->
        <button id="btn-role-parent" style="background:linear-gradient(145deg,rgba(56,201,176,0.18),rgba(56,201,176,0.05));border:2px solid var(--teal);border-radius:18px;padding:22px 10px;cursor:pointer;font-family:var(--font);transition:transform .15s,box-shadow .15s;display:flex;flex-direction:column;align-items:center;gap:8px" onmouseover="this.style.transform='scale(1.04)'" onmouseout="this.style.transform='scale(1)'">
          <span style="font-size:3rem">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§</span>
          <span class="bold" style="font-size:1rem;color:var(--teal)">Ø£Ù†Ø§ ÙˆÙ„ÙŠÙ‘ Ø£Ù…Ø±</span>
          <span class="text-xs text-muted">ØªØ§Ø¨Ø¹ Ø£Ø·ÙØ§Ù„Ùƒ</span>
        </button>

      </div>

      <!-- existing kids (shown when profiles exist) -->
      <div id="existing-profiles" style="display:flex;flex-direction:column;gap:8px;margin-bottom:8px"></div>

      <button class="btn btn-ghost btn-block btn-sm" id="btn-welcome-theme" style="margin-bottom:6px">ğŸ¨ Ø§Ø®ØªØ± Ø§Ù„Ù…Ø¸Ù‡Ø±</button>

      <div id="install-bar-welcome" class="install-bar hidden" style="margin-top:10px">
        <span style="font-size:1.6rem">ğŸ“²</span>
        <div style="flex:1"><div class="bold text-sm">Ø«Ø¨Ù‘Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¹Ù„Ù‰ Ø¬Ù‡Ø§Ø²Ùƒ</div><div class="text-xs text-muted">ÙŠØ¹Ù…Ù„ Ø¨Ø¯ÙˆÙ† Ø¥Ù†ØªØ±Ù†Øª!</div></div>
        <button class="btn btn-primary btn-sm" id="btn-install">ØªØ«Ø¨ÙŠØª</button>
      </div>
    </div>
  </div>
</div>

<!-- ===== SETUP ===== -->
<div id="screen-setup" class="screen">
  <div class="flex gap-8 mb-12">
    <button class="btn btn-ghost btn-sm" id="btn-back-welcome">â† Ø±Ø¬ÙˆØ¹</button>
    <div style="flex:1;text-align:center" class="bold text-accent">Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„ÙÙƒ ğŸŒŸ</div>
  </div>
  <!-- Step 0 -->
  <div class="setup-step active" data-step="0">
    <div class="step-hdr"><div class="step-icon">ğŸ‘‹</div><h2>Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ!</h2><p class="text-muted text-sm">Ø£Ø®Ø¨Ø±Ù†Ø§ Ø¹Ù†Ùƒ</p></div>
    <div class="flex-col gap-12">
      <div><label class="bold text-sm">Ø§Ø³Ù…Ùƒ</label><input type="text" id="s-name" placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ Ù‡Ù†Ø§..." maxlength="30" autocomplete="off" style="margin-top:5px"></div>
      <div><label class="bold text-sm">Ø¹Ù…Ø±Ùƒ</label><input type="number" id="s-age" placeholder="Ø¹Ù…Ø±Ùƒ..." min="3" max="16" value="8" style="margin-top:5px"></div>
      <div><label class="bold text-sm">Ø±Ù…Ø² Ø§Ù„Ø¹Ø§Ø¦Ù„Ø© <span class="text-xs text-muted">(Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</span></label><input type="text" id="s-famcode" placeholder="Ù…Ø«Ø§Ù„: A1B2C3" maxlength="8" autocomplete="off" style="margin-top:5px;text-transform:uppercase;letter-spacing:2px"></div>
    </div>
    <button class="btn btn-primary btn-lg btn-block mt-16" id="btn-s0">Ø§Ù„ØªØ§Ù„ÙŠ â†</button>
  </div>
  <!-- Step 1 -->
  <div class="setup-step" data-step="1">
    <div class="step-hdr"><div class="step-icon">ğŸ­</div><h2>Ø§Ø®ØªØ± ØµÙˆØ±ØªÙƒ</h2></div>
    <div class="avatar-tabs" id="av-tabs"></div>
    <div class="avatar-grid" id="av-grid"></div>
    <div style="margin-top:12px"><div class="bold text-sm mb-8">Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ù…ÙØ¶Ù„</div><div class="color-grid" id="col-grid"></div></div>
    <button class="btn btn-primary btn-lg btn-block mt-16" id="btn-s1">Ø§Ù„ØªØ§Ù„ÙŠ â†</button>
  </div>
  <!-- Step 2 -->
  <div class="setup-step" data-step="2">
    <div class="step-hdr"><div class="step-icon">â­</div><h2>Ø§Ø®ØªØ± Ø´Ø®ØµÙŠØªÙƒ</h2></div>
    <div class="hero-grid" id="hero-grid"></div>
    <button class="btn btn-primary btn-lg btn-block mt-16" id="btn-s2">Ø§Ù„ØªØ§Ù„ÙŠ â†</button>
  </div>
  <!-- Step 3 -->
  <div class="setup-step" data-step="3">
    <div class="step-hdr"><div class="step-icon">âš¡</div><h2>Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªØ­Ø¯ÙŠ</h2></div>
    <div class="diff-grid">
      <div class="diff-btn selected" data-d="easy"><div style="font-size:1.8rem">ğŸŒ¸</div><div class="bold">Ø³Ù‡Ù„</div><div class="text-xs text-muted">Ù„Ù„Ù…Ø¨ØªØ¯Ø¦ÙŠÙ†</div></div>
      <div class="diff-btn" data-d="normal"><div style="font-size:1.8rem">â­</div><div class="bold">Ø¹Ø§Ø¯ÙŠ</div><div class="text-xs text-muted">Ù„Ù„Ø´Ø¬Ø¹Ø§Ù†</div></div>
      <div class="diff-btn" data-d="hero"><div style="font-size:1.8rem">ğŸ†</div><div class="bold">Ø¨Ø·Ù„</div><div class="text-xs text-muted">Ù„Ù„Ø£Ø¨Ø·Ø§Ù„!</div></div>
    </div>
    <button class="btn btn-primary btn-lg btn-block mt-16" id="btn-s3">Ø§Ù„ØªØ§Ù„ÙŠ â†</button>
  </div>
  <!-- Step 4 -->
  <div class="setup-step" data-step="4">
    <div class="step-hdr"><div class="step-icon">ğŸ—“ï¸</div><h2>Ø®Ø·ØªÙƒ Ù„Ø±Ù…Ø¶Ø§Ù†</h2><p class="text-muted text-sm">Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ù„Ø§ ÙŠØªØ¬Ø§ÙˆØ² 30 ÙŠÙˆÙ…Ø§Ù‹</p></div>
    <div class="flex-col gap-10">
      <div class="card"><div class="slider-lbl"><span>ğŸ•› Ø£ÙŠØ§Ù… Ø§Ù„Ø¸Ù‡Ø±</span><span class="slider-val" id="lbl-d">15 ÙŠÙˆÙ…</span></div><input type="range" id="sl-d" min="0" max="30" value="15"></div>
      <div class="card"><div class="slider-lbl"><span>ğŸ•’ Ø£ÙŠØ§Ù… Ø§Ù„Ø¹ØµØ±</span><span class="slider-val" id="lbl-a">10 ÙŠÙˆÙ…</span></div><input type="range" id="sl-a" min="0" max="30" value="10"></div>
      <div class="card"><div class="slider-lbl"><span>ğŸŒ… Ø£ÙŠØ§Ù… Ø§Ù„Ù…ØºØ±Ø¨</span><span class="slider-val" id="lbl-m">5 ÙŠÙˆÙ…</span></div><input type="range" id="sl-m" min="0" max="30" value="5"></div>
    </div>
    <div class="total-info" id="total-info">âœ… Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: 30 ÙŠÙˆÙ…Ø§Ù‹</div>
    <button class="btn btn-primary btn-lg btn-block mt-16" id="btn-s4">ğŸ‰ Ø§Ø¨Ø¯Ø£ Ø±Ù…Ø¶Ø§Ù†!</button>
  </div>
</div>

<!-- ===== HOME ===== -->
<div id="screen-home" class="screen">
  <div class="home-hdr">
    <div class="home-av" id="h-av">ğŸŒ™</div>
    <div style="flex:1;min-width:0">
      <div class="home-greet" id="h-greet">Ø±Ù…Ø¶Ø§Ù† Ù…Ø¨Ø§Ø±Ùƒ</div>
      <div class="home-name" id="h-name">Ø§Ù„Ù…ØºØ§Ù…Ø±</div>
    </div>
    <div class="day-badge" id="h-day">ÙŠÙˆÙ… 1</div>
  </div>
  <div id="notif-bar" class="notif-bar hidden"><span style="font-size:1.3rem">ğŸ””</span><span style="flex:1;font-size:0.83rem">ÙØ¹Ù‘Ù„ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ù„ØªØ°ÙƒÙŠØ±Ùƒ Ø¨ÙˆÙ‚Øª Ø§Ù„Ø¥ÙØ·Ø§Ø±!</span><button class="btn btn-secondary btn-sm" id="btn-notif">ÙØ¹Ù‘Ù„</button></div>
  <div id="status-card" class="status-card status-pending"></div>
  <div class="timer-card">
    <div class="timer-lbl">Ø§Ù„Ø¹Ø¯ Ø§Ù„ØªÙ†Ø§Ø²Ù„ÙŠ Ø­ØªÙ‰</div>
    <div class="timer-name" id="t-name">Ø§Ù„Ù‡Ø¯Ù: Ø§Ù„Ù…ØºØ±Ø¨</div>
    <div class="timer-display" id="t-main">00:00:00</div>
    <div style="font-size:0.82rem;color:var(--muted);margin-top:3px" id="t-sub">ğŸ’ª Ø§Ø³ØªÙ…Ø±!</div>
    <div class="prog-labels mt-8"><span>Ø§Ù„ÙØ¬Ø±</span><span>Ø§Ù„Ù…ØºØ±Ø¨</span></div>
    <div class="prog-track"><div class="prog-fill" id="p-fill" style="width:0%"></div><div class="prog-marker" id="p-marker" style="right:50%"></div></div>
  </div>
  <div id="bonus-card" class="status-card status-success hidden flex" style="align-items:center;gap:12px">
    <div style="flex:1"><div class="bold text-sm">ğŸŒŸ Ø¨ÙˆÙ†Øµ Ø­ØªÙ‰ Ø§Ù„Ù…ØºØ±Ø¨!</div><div id="bonus-timer" class="text-sm" style="color:var(--teal)">00:00:00</div></div>
    <button class="btn btn-success btn-sm" id="btn-maghrib">Ø§Ø·Ù„Ø¨ Ø§Ù„Ù…ÙƒØ§ÙØ£Ø©!</button>
  </div>
  <div class="quiz-banner">
    <div style="flex:1"><div class="bold">ğŸ§  Ù…Ø³Ø§Ø¨Ù‚Ø© Ø§Ù„ÙŠÙˆÙ…</div><div class="text-xs text-muted" id="quiz-banner-sub">10 Ø£Ø³Ø¦Ù„Ø© Ø±Ù…Ø¶Ø§Ù†ÙŠØ©</div></div>
    <button class="btn btn-primary btn-sm" id="btn-quiz">Ø§Ø¨Ø¯Ø£!</button>
  </div>

  <div id="child-rewards-card" class="card mt-12 hidden">
    <div class="section-hdr"><div class="section-title">ğŸ Ù‡Ø¯Ø§ÙŠØ§ Ø§Ù„ÙˆØ§Ù„Ø¯</div><div class="badge" id="child-rew-badge">0</div></div>
    <div id="child-rewards-list"></div>
  </div>

  <div id="home-inventory-card" class="card mt-12">
    <div class="section-hdr">
      <div class="section-title">ğŸ§º Ù…Ù‚ØªÙ†ÙŠØ§ØªÙŠ</div>
      <button class="btn btn-ghost btn-sm" id="btn-go-shop">Ø¥Ù„Ù‰ Ø§Ù„Ù…ØªØ¬Ø±</button>
    </div>
    <div id="inv-strip"></div>
  </div>
  <div class="section-hdr"><div class="section-title">ğŸŒŸ Ø£Ø¹Ù…Ø§Ù„ÙŠ Ø§Ù„Ø­Ø³Ù†Ø©</div><div class="badge">+Ù†Ù‚Ø§Ø·</div></div>
  <div class="deeds-grid" id="deeds-grid"></div>
  <div id="bad-deeds-section" class="hidden">
    <div class="section-hdr mt-12"><div class="section-title" style="color:var(--rose)">âš ï¸ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„ÙˆØ§Ù„Ø¯ÙŠÙ†</div></div>
    <div id="bad-deeds-list"></div>
  </div>
  <div class="section-hdr mt-8"><div class="section-title">ğŸ“‹ Ù…Ù‡Ø§Ù… Ø§Ù„ÙŠÙˆÙ…</div><div class="badge" id="q-badge">0/7</div></div>
  <div id="quest-list"></div>
  <div style="display:grid;grid-template-columns:1fr 1fr;gap:7px;margin-top:10px">
    <button class="btn btn-ghost btn-sm" id="btn-night">ğŸŒ™ Ø§Ù„Ù…Ø¸Ù‡Ø±</button>
    <button class="btn btn-ghost btn-sm" id="btn-cert-home">ğŸ… Ø´Ù‡Ø§Ø¯ØªÙŠ</button>
  </div>
</div>

<!-- ===== PROGRESS ===== -->
<div id="screen-progress" class="screen">
  <div class="screen-title">ğŸ—ºï¸ Ø±Ø­Ù„ØªÙŠ ÙÙŠ Ø±Ù…Ø¶Ø§Ù†</div>

  <!-- Stats bar -->
  <div class="xp-bar-wrap"><div class="xp-header"><span class="bold">Ù…Ø³ØªÙˆØ§Ùƒ</span><span class="level-badge" id="pr-level">Ù…Ø¨ØªØ¯Ø¦ ğŸŒ±</span></div><div class="xp-track"><div class="xp-fill" id="pr-xp" style="width:0%"></div></div><div class="text-xs text-muted mt-8" id="pr-xp-lbl">0 / 200 Ù†Ù‚Ø·Ø©</div></div>
  <div class="stats-grid" style="margin-bottom:16px">
    <div class="stat-card"><div class="stat-val" id="st-pts">0</div><div class="stat-lbl">Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ù†Ù‚Ø§Ø·</div></div>
    <div class="stat-card"><div class="stat-val" id="st-streak">0ğŸ”¥</div><div class="stat-lbl">Ø£ÙŠØ§Ù… Ù…ØªØªØ§Ù„ÙŠØ©</div></div>
    <div class="stat-card"><div class="stat-val" id="st-days">0</div><div class="stat-lbl">Ø£ÙŠØ§Ù… Ù†Ø§Ø¬Ø­Ø©</div></div>
    <div class="stat-card"><div class="stat-val" id="st-grace">3</div><div class="stat-lbl">Ø¯Ø±Ø¹ Ø§Ù„Ø­Ù…Ø§ÙŠØ©</div></div>
  </div>

  <!-- ====== JOURNEY (levels) ====== -->
  <div class="section-hdr"><div class="section-title">ğŸ—ºï¸ Ù…Ø³ÙŠØ±Ø© Ø§Ù„Ù…ØºØ§Ù…Ø±Ø©</div></div>
  <div id="journey-list"></div>

  <!-- Achievements -->
  <div class="section-hdr mt-12"><div class="section-title">ğŸ… Ø§Ù„Ø£ÙˆØ³Ù…Ø©</div></div>
  <div class="ach-grid" id="ach-grid"></div>
  <div class="section-hdr mt-12"><div class="section-title">ğŸ“‹ Ø³Ø¬Ù„ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„</div></div>
  <div id="activity-log"></div>
</div>

<!-- ===== SHOP ===== -->
<div id="screen-shop" class="screen">
  <div class="screen-title">ğŸª Ø§Ù„Ù…ØªØ¬Ø±</div>
  <div style="background:linear-gradient(135deg,rgba(56,201,176,0.15),rgba(240,180,41,0.1));border:1.5px solid var(--teal);border-radius:13px;padding:10px 14px;text-align:center;margin-bottom:12px">
    <div class="text-xs text-muted mb-8">Ø§Ù„Ù…ØªØ¬Ø± ÙŠØ³ØªØ®Ø¯Ù… ğŸ’ Ø§Ù„Ø¬ÙˆØ§Ù‡Ø± ÙÙ‚Ø· â€” Ù†Ù‚Ø§Ø· Ø§Ù„ØªÙ†Ø§ÙØ³ Ù„Ø§ ØªØªØ£Ø«Ø±</div>
    <span style="font-size:1.4rem">ğŸ’</span> <span class="bold" style="font-size:1.3rem;color:var(--teal)" id="shop-gems">0</span> <span class="text-muted text-sm">Ø¬ÙˆÙ‡Ø±Ø©</span>
    <span style="margin-right:12px" class="text-xs text-muted">| Ù†Ù‚Ø§Ø· Ø§Ù„ØªÙ†Ø§ÙØ³: <span class="text-accent bold" id="shop-comp-pts">0</span></span>
  </div>
  <div class="shop-grid" id="shop-grid"></div>
</div>

<!-- ===== PROFILES / FAMILY ===== -->
<div id="screen-profiles" class="screen">
  <div class="screen-title">ğŸ† ØªØ±ØªÙŠØ¨ Ø§Ù„Ø¹Ø§Ø¦Ù„Ø©</div>
  <p class="text-xs text-muted text-center mb-12">Ù†Ù‚Ø§Ø· Ø¬Ù…ÙŠØ¹ Ø£ÙØ±Ø§Ø¯ Ø§Ù„Ø¹Ø§Ø¦Ù„Ø© â€” Ù„Ù„Ù…Ø´Ø§Ù‡Ø¯Ø© ÙÙ‚Ø·</p>
  <div id="profiles-list"></div>
  <p class="text-xs text-muted text-center mt-12" style="opacity:0.6">ØªÙ†Ø§ÙØ³ ÙˆØ¯ÙŠ â€” ÙƒÙ„ Ø¬Ù‡Ø§Ø² Ø­Ø³Ø§Ø¨Ù‡ Ø§Ù„Ø®Ø§Øµ ğŸ </p>
</div>

<!-- ===== QUIZ ===== -->
<div id="screen-quiz" class="screen">
  <div class="flex gap-8 mb-12"><button class="btn btn-ghost btn-sm" id="btn-quiz-back">â† Ø±Ø¬ÙˆØ¹</button><div class="screen-title" style="flex:1;margin:0">ğŸ§  Ù…Ø³Ø§Ø¨Ù‚Ø© Ø±Ù…Ø¶Ø§Ù†</div></div>
  <!-- 29-day quiz path map â€” shown before quiz starts -->
  <div id="quiz-path-map"></div>
  <div id="quiz-container" style="display:none"></div>
</div>

<!-- ===== CERTIFICATE ===== -->
<div id="screen-certificate" class="screen">
  <div class="flex gap-8 mb-12"><button class="btn btn-ghost btn-sm" id="btn-cert-back">â† Ø±Ø¬ÙˆØ¹</button><button class="btn btn-secondary btn-sm" onclick="window.print()">ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø©</button></div>
  <div class="screen-title">ğŸ“œ Ø´Ù‡Ø§Ø¯Ø© Ø§Ù„ØªÙ‚Ø¯ÙŠØ±</div>
  <div class="cert-frame">
    <!-- FIX: Ø¨Ø³Ù… Ø§Ù„Ù„Ù‡ at TOP -->
    <div style="font-family:'Amiri',serif;font-size:1.1rem;color:var(--accent);font-weight:700;margin-bottom:10px;padding-bottom:8px;border-bottom:1px solid rgba(240,180,41,0.3)">Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„Ù‡Ù Ø§Ù„Ø±ÙÙ‘Ø­Ù’Ù…ÙÙ†Ù Ø§Ù„Ø±ÙÙ‘Ø­ÙÙŠÙ… ğŸ¤²</div>
    <div style="font-size:2.3rem;margin-bottom:6px">ğŸŒ™</div>
    <div style="font-family:'Amiri',serif;font-size:1.2rem;color:var(--accent);font-weight:700;margin-bottom:6px">Ø´Ù‡Ø§Ø¯Ø© ØµØ§Ø¦Ù… ØµØºÙŠØ± Ù…ØªÙ…ÙŠØ²</div>
    <div style="font-size:2.8rem;margin:6px 0" id="cert-av">ğŸŒ™</div>
    <div class="cert-name" id="cert-name">â€”</div>
    <div style="display:inline-block;background:rgba(240,180,41,0.15);border:1px solid var(--accent);color:var(--accent);padding:3px 13px;border-radius:18px;font-size:0.82rem;margin:5px 0" id="cert-level">â€”</div>
    <div class="text-muted text-sm" style="margin:5px 0">Ø£ØªÙ… Ø¨Ù†Ø¬Ø§Ø­</div>
    <div style="font-size:1.7rem;font-weight:900;color:var(--accent)" id="cert-days">0 ÙŠÙˆÙ…</div>
    <!-- FIX: Ø´Ù‡Ø± Ø±Ù…Ø¶Ø§Ù† Ø§Ù„Ù…Ø¨Ø§Ø±Ùƒ -->
    <div class="text-muted text-sm">Ù…Ù† Ø´Ù‡Ø± Ø±Ù…Ø¶Ø§Ù† Ø§Ù„Ù…Ø¨Ø§Ø±Ùƒ 1447 Ù‡Ù€</div>
    <div class="cert-row"><div><span id="cert-pts">0</span> Ù†Ù‚Ø·Ø©</div><div><span id="cert-streak">0</span> ÙŠÙˆÙ… Ù…ØªØªØ§Ù„ÙŠ ğŸ”¥</div></div>
    <div class="text-xs text-muted" id="cert-date"></div>
  </div>
  <div class="card mt-12"><div class="section-title mb-8">ğŸ† ØªØ±ØªÙŠØ¨ Ø§Ù„Ø¹Ø§Ø¦Ù„Ø©</div><div id="cert-ranks"></div></div>
</div>

<!-- ===== PARENT ===== -->
<div id="screen-parent" class="screen">
  <div class="flex gap-8 mb-12"><button class="btn btn-ghost btn-sm" id="btn-parent-back">â† Ø±Ø¬ÙˆØ¹</button><div class="screen-title" style="flex:1;margin:0">Ù„ÙˆØ­Ø© Ø§Ù„ÙˆØ§Ù„Ø¯ÙŠÙ† ğŸ”’</div></div>

  <!-- FIRST TIME: Create PIN -->
  <div id="parent-create-pin" class="parent-lock hidden">
    <div style="font-size:3.5rem">ğŸ”</div>
    <h3 style="margin:0 0 6px">Ø¥Ù†Ø´Ø§Ø¡ Ø±Ù‚Ù… Ø³Ø±ÙŠ Ù„Ù„ÙˆØ§Ù„Ø¯ÙŠÙ†</h3>
    <p class="text-muted text-sm" style="margin:0 0 16px;max-width:260px;text-align:center">Ù‡Ø°Ø§ Ø§Ù„Ø±Ù‚Ù… ÙŠÙØ­ÙØ¸ Ø¹Ù„Ù‰ Ø¬Ù‡Ø§Ø²Ùƒ ÙÙ‚Ø· ÙˆÙ„Ø§ ÙŠØ±Ø§Ù‡ Ø§Ù„Ø£Ø·ÙØ§Ù„</p>
    <input type="password" id="pin-create-1" placeholder="Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù…Ø§Ù‹ Ø³Ø±ÙŠØ§Ù‹ (4+ Ø£Ø±Ù‚Ø§Ù…)" inputmode="numeric" maxlength="8"
      style="max-width:220px;text-align:center;font-size:1.5rem;letter-spacing:6px;margin-bottom:10px">
    <input type="password" id="pin-create-2" placeholder="Ø£Ø¹Ø¯ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ Ù„Ù„ØªØ£ÙƒÙŠØ¯" inputmode="numeric" maxlength="8"
      style="max-width:220px;text-align:center;font-size:1.5rem;letter-spacing:6px;margin-bottom:14px">
    <button class="btn btn-primary" id="btn-save-pin">ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø³Ø±ÙŠ</button>
  </div>

  <!-- RETURNING: Enter PIN -->
  <div id="parent-lock" class="parent-lock hidden">
    <div style="font-size:3.5rem">ğŸ”‘</div>
    <h3 style="margin:0 0 6px">Ø£Ø¯Ø®Ù„ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø³Ø±ÙŠ</h3>
    <p class="text-muted text-sm" style="margin:0 0 16px">Ù„Ù„ÙˆØ§Ù„Ø¯ÙŠÙ† ÙÙ‚Ø·</p>
    <input type="password" id="math-ans" placeholder="â€¢â€¢â€¢â€¢" inputmode="numeric" maxlength="8"
      style="max-width:180px;text-align:center;font-size:1.8rem;letter-spacing:8px">
    <button class="btn btn-primary" id="btn-pin">Ø¯Ø®ÙˆÙ„ â†</button>
    <button class="btn btn-ghost btn-sm" id="btn-forgot-pin" style="margin-top:8px;font-size:0.8rem">Ù†Ø³ÙŠØª Ø§Ù„Ø±Ù‚Ù…ØŸ (Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø·)</button>
  </div>
  <div id="parent-panel" class="hidden flex-col gap-10">
    <!-- Tabs: 3 per row, 2 rows -->
    <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:7px">
      <button class="ptab-btn active" data-tab="children" id="ptab-children">ğŸ‘¶<br><span>Ø§Ù„Ø£Ø·ÙØ§Ù„</span></button>
      <button class="ptab-btn" data-tab="deeds" id="ptab-deeds">âœ…<br><span>Ø§Ù„Ø£Ø¹Ù…Ø§Ù„</span></button>
      <button class="ptab-btn" data-tab="fasting" id="ptab-fasting">ğŸ“‹<br><span>Ø§Ù„ØµÙŠØ§Ù…</span></button>
      <button class="ptab-btn" data-tab="questions" id="ptab-questions">ğŸ§ <br><span>Ø§Ù„Ø£Ø³Ø¦Ù„Ø©</span></button>
      <button class="ptab-btn" data-tab="rewards" id="ptab-rewards">ğŸ<br><span>Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª</span></button>
      <button class="ptab-btn" data-tab="settings" id="ptab-settings">âš™ï¸<br><span>Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</span></button>
    </div>
    <!-- Children tab -->
    <div id="ptab-children-content">
      <div id="parent-children-list"></div>
      <div class="card mt-8">
        <div class="bold mb-8">ğŸ”— Ø±Ù…Ø² Ø§Ù„Ø±Ø¨Ø· Ø¨Ø§Ù„Ø¹Ø§Ø¦Ù„Ø©</div>
        <p class="text-sm text-muted mb-8">Ø£Ø¹Ø·Ù Ù‡Ø°Ø§ Ø§Ù„Ø±Ù…Ø² Ù„Ø£ÙŠ Ø·ÙÙ„ Ù„ÙŠØ¯Ø®Ù„ Ù…Ù† Ø¬Ù‡Ø§Ø²Ù‡</p>
        <div style="font-size:2rem;font-weight:900;color:var(--accent);text-align:center;letter-spacing:6px;background:var(--surf);border-radius:12px;padding:12px" id="family-code">â€”â€”</div>
        <div id="supabase-status" style="text-align:center;font-size:0.75rem;margin:8px 0;padding:6px;border-radius:8px;background:var(--surf2)">
          â³ Ø¬Ø§Ø±Ù Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø§ØªØµØ§Ù„...
        </div>
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:6px;margin-top:8px">
          <button class="btn btn-ghost btn-sm" id="btn-regen-code">ğŸ”„ Ø±Ù…Ø² Ø¬Ø¯ÙŠØ¯</button>
          <button class="btn btn-primary btn-sm" id="btn-test-conn">ğŸ“¡ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø§ØªØµØ§Ù„</button>
        </div>
      </div>
    </div>
    <!-- Deeds/Log tab -->
    <div id="ptab-deeds-content" class="hidden">
      <div class="card">
        <div class="bold mb-8">âš ï¸ Ø¥Ø¶Ø§ÙØ© Ù…Ù„Ø§Ø­Ø¸Ø© Ø³Ù„Ø¨ÙŠØ©</div>
        <select id="bad-deed-select" style="margin-bottom:7px"><option value="">Ø§Ø®ØªØ± Ø§Ù„Ø³Ù„ÙˆÙƒ...</option></select>
        <select id="bad-deed-child" style="margin-bottom:7px"><option value="">Ø§Ø®ØªØ± Ø§Ù„Ø·ÙÙ„...</option></select>
        <button class="btn btn-danger btn-block btn-sm" id="btn-add-bad">â• Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø©</button>
      </div>
      <div class="card mt-8">
        <div class="bold mb-8">âœ… Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„Ø­Ø³Ù†Ø©</div>
        <div id="pending-deeds-list"><p class="text-muted text-sm text-center">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ù…Ø¹Ù„Ù‚Ø©</p></div>
      </div>
      <div class="card mt-8">
        <div class="flex gap-8 mb-8"><div class="bold" style="flex:1">ğŸ“‹ Ø³Ø¬Ù„ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„</div><select id="log-filter-child" style="width:auto;padding:4px 8px;font-size:0.8rem"><option value="">Ø§Ù„ÙƒÙ„</option></select></div>
        <div id="parent-log-list"></div>
      </div>
      <div class="card mt-8">
        <div class="bold mb-8">âœï¸ ØªØ¹Ø¯ÙŠÙ„ Ù†Ù‚Ø§Ø·</div>
        <select id="edit-pts-child" style="margin-bottom:6px"><option value="">Ø§Ø®ØªØ± Ø§Ù„Ø·ÙÙ„...</option></select>
        <div class="flex gap-6">
          <input type="number" id="edit-pts-val" placeholder="Ø¹Ø¯Ø¯ Ø§Ù„Ù†Ù‚Ø§Ø·..." style="flex:1">
          <button class="btn btn-success btn-sm" id="btn-add-pts">+ Ø¥Ø¶Ø§ÙØ©</button>
          <button class="btn btn-danger btn-sm" id="btn-rem-pts">- Ø®ØµÙ…</button>
        </div>
      </div>
      <div class="card mt-8">
        <div class="bold mb-8">ğŸ’ Ù…Ù†Ø­ Ø¬ÙˆØ§Ù‡Ø±</div>
        <p class="text-xs text-muted mb-8">Ø§Ù„Ø¬ÙˆØ§Ù‡Ø± ØªÙØ³ØªØ®Ø¯Ù… ÙÙŠ Ø§Ù„Ù…ØªØ¬Ø± ÙˆÙ„Ø§ ØªØ¤Ø«Ø± Ø¹Ù„Ù‰ Ù†Ù‚Ø§Ø· Ø§Ù„ØªÙ†Ø§ÙØ³</p>
        <select id="edit-gems-child" style="margin-bottom:6px"><option value="">Ø§Ø®ØªØ± Ø§Ù„Ø·ÙÙ„...</option></select>
        <div class="flex gap-6">
          <input type="number" id="edit-gems-val" placeholder="Ø¹Ø¯Ø¯ Ø§Ù„Ø¬ÙˆØ§Ù‡Ø±..." style="flex:1" min="1">
          <button class="btn btn-primary btn-sm" id="btn-add-gems">ğŸ’ Ù…Ù†Ø­</button>
          <button class="btn btn-danger btn-sm" id="btn-rem-gems">- Ø®ØµÙ…</button>
        </div>
      </div>
    </div>
    <!-- Questions tab -->
    <div id="ptab-fasting-content" class="hidden">
      <div class="card mb-8">
        <div class="bold mb-8">ğŸ“‹ Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„ØµÙŠØ§Ù…</div>
        <select id="fasting-child-select" style="margin-bottom:8px"><option value="">Ø§Ø®ØªØ± Ø§Ù„Ø·ÙÙ„...</option></select>
        <div class="text-xs text-muted mb-8">Ø§Ø®ØªØ± Ø­Ø§Ù„Ø© Ø§Ù„ÙŠÙˆÙ… Ø«Ù… Ø§Ø¶ØºØ· ØªØ­Ø¯ÙŠØ«</div>
        <div style="display:flex;gap:6px;flex-wrap:wrap">
          <button class="btn btn-ghost btn-sm" data-fasting-reason="completed">âœ… Ø£ÙƒÙ…Ù„</button>
          <button class="btn btn-ghost btn-sm" data-fasting-reason="sick">ğŸ¤’ Ù…Ø±ÙŠØ¶</button>
          <button class="btn btn-ghost btn-sm" data-fasting-reason="tired">ğŸ˜´ ØªØ¹Ø¨</button>
          <button class="btn btn-ghost btn-sm" data-fasting-reason="forgot">ğŸ˜… Ù†Ø³ÙŠØ§Ù†</button>
          <button class="btn btn-ghost btn-sm" data-fasting-reason="intentional">ğŸ˜ Ù…ØªØ¹Ù…Ø¯</button>
        </div>
        <button class="btn btn-primary btn-sm mt-10" id="btn-update-fasting" style="width:100%">ğŸ’¾ ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„ÙŠÙˆÙ…</button>
      </div>
      <div class="card">
        <div class="bold mb-8">ğŸ—“ï¸ Ø¢Ø®Ø± 30 ÙŠÙˆÙ…</div>
        <div id="fasting-log-list"></div>
      </div>
    </div>
    <!-- Questions tab -->
    <div id="ptab-questions-content" class="hidden">
      <div class="card">
        <div class="bold mb-8">â• Ø¥Ø¶Ø§ÙØ© Ø³Ø¤Ø§Ù„ Ù…Ø®ØµØµ</div>
        <input type="text" id="cq-q" placeholder="Ù†Øµ Ø§Ù„Ø³Ø¤Ø§Ù„..." maxlength="200" style="margin-bottom:6px">
        <div class="grid2" style="gap:6px;margin-bottom:6px">
          <input type="text" id="cq-a" placeholder="Ø®ÙŠØ§Ø± 1"><input type="text" id="cq-b" placeholder="Ø®ÙŠØ§Ø± 2">
          <input type="text" id="cq-c" placeholder="Ø®ÙŠØ§Ø± 3"><input type="text" id="cq-d" placeholder="Ø®ÙŠØ§Ø± 4">
        </div>
        <select id="cq-correct" style="margin-bottom:6px">
          <option value="0">âœ… Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©: Ø®ÙŠØ§Ø± 1</option><option value="1">âœ… Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©: Ø®ÙŠØ§Ø± 2</option>
          <option value="2">âœ… Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©: Ø®ÙŠØ§Ø± 3</option><option value="3">âœ… Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©: Ø®ÙŠØ§Ø± 4</option>
        </select>
        <div class="flex gap-6">
          <select id="cq-diff" style="flex:1"><option value="easy">Ø³Ù‡Ù„ (+10)</option><option value="medium">Ù…ØªÙˆØ³Ø· (+15)</option><option value="hard">ØµØ¹Ø¨ (+25)</option></select>
          <button class="btn btn-primary btn-sm" id="btn-add-cq">â• Ø¥Ø¶Ø§ÙØ©</button>
        </div>
      </div>
      <div class="card mt-8">
        <div class="flex gap-8 mb-8">
          <div class="bold" style="flex:1">ğŸ“š Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…Ø®ØµØµØ© (<span id="cq-count">0</span>)</div>
          <input type="text" id="cq-search" placeholder="Ø¨Ø­Ø«..." style="width:130px;padding:5px 8px;font-size:0.8rem">
        </div>
        <div id="cq-list"></div>
      </div>
      <!-- Full 300 questions editor (ØªÙ… Ù†Ù‚Ù„Ù‡ Ù…Ù† ØªØ¨ÙˆÙŠØ¨ Ø§Ù„ØµÙŠØ§Ù…) -->
      <div class="card mt-8">
        <div class="bold mb-8" style="font-size:1rem">ğŸ“‹ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„ÙƒØ§Ù…Ù„Ø© (300 Ø³Ø¤Ø§Ù„)</div>
        <p class="text-xs text-muted mb-10">ÙŠÙ…ÙƒÙ†Ùƒ ØªØ¹Ø¯ÙŠÙ„ Ø£ÙŠ Ø³Ø¤Ø§Ù„ Ø£Ùˆ Ø­Ø°ÙÙ‡. Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª ØªØ¤Ø«Ø± Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©.</p>
        <div style="display:flex;gap:8px;flex-wrap:wrap;margin-bottom:10px">
          <input type="text" id="allq-search" placeholder="ğŸ” Ø§Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©..." style="flex:1;min-width:150px">
          <select id="allq-cat" style="min-width:110px">
            <option value="">Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØ¦Ø§Øª</option>
          </select>
          <select id="allq-diff" style="min-width:100px">
            <option value="">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª</option>
            <option value="easy">Ø³Ù‡Ù„ ğŸŸ¢</option>
            <option value="medium">Ù…ØªÙˆØ³Ø· ğŸŸ¡</option>
            <option value="hard">ØµØ¹Ø¨ ğŸ”´</option>
          </select>
        </div>
        <div id="allq-stats" class="text-xs text-muted mb-8"></div>
        <div id="allq-list" style="max-height:60vh;overflow-y:auto;display:flex;flex-direction:column;gap:8px"></div>
      </div>
      <div id="allq-edit-panel" class="hidden card" style="border:2px solid var(--accent);margin-bottom:8px">
        <div class="bold mb-8">âœï¸ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø³Ø¤Ø§Ù„</div>
        <textarea id="allq-edit-q" rows="3" style="width:100%;margin-bottom:6px;font-family:var(--font);padding:8px;border-radius:8px;border:1px solid var(--bdr);background:var(--surf);color:var(--text)"></textarea>
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:6px;margin-bottom:6px">
          <input type="text" id="allq-edit-o0" placeholder="Ø®ÙŠØ§Ø± 1">
          <input type="text" id="allq-edit-o1" placeholder="Ø®ÙŠØ§Ø± 2">
          <input type="text" id="allq-edit-o2" placeholder="Ø®ÙŠØ§Ø± 3">
          <input type="text" id="allq-edit-o3" placeholder="Ø®ÙŠØ§Ø± 4">
        </div>
        <div style="display:flex;gap:8px;margin-bottom:8px">
          <select id="allq-edit-correct" style="flex:1">
            <option value="0">âœ… Ø§Ù„ØµØ­ÙŠØ­: Ø®ÙŠØ§Ø± 1</option>
            <option value="1">âœ… Ø§Ù„ØµØ­ÙŠØ­: Ø®ÙŠØ§Ø± 2</option>
            <option value="2">âœ… Ø§Ù„ØµØ­ÙŠØ­: Ø®ÙŠØ§Ø± 3</option>
            <option value="3">âœ… Ø§Ù„ØµØ­ÙŠØ­: Ø®ÙŠØ§Ø± 4</option>
          </select>
          <select id="allq-edit-diff" style="flex:1">
            <option value="easy">Ø³Ù‡Ù„ (+10)</option>
            <option value="medium">Ù…ØªÙˆØ³Ø· (+15)</option>
            <option value="hard">ØµØ¹Ø¨ (+25)</option>
          </select>
        </div>
        <div style="display:flex;gap:8px">
          <button class="btn btn-primary btn-sm" id="allq-save-edit" style="flex:1">ğŸ’¾ Ø­ÙØ¸</button>
          <button class="btn btn-ghost btn-sm" id="allq-cancel-edit" style="flex:1">âœ• Ø¥Ù„ØºØ§Ø¡</button>
        </div>
      </div>
      <!-- ØªÙ… Ø¥Ù„ØºØ§Ø¡ ØªÙˆÙ‚ÙŠØª Ø§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø©: ØªÙØªØ­ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ù…Ù† Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„ÙŠÙˆÙ… 00:00 -->
    </div>
    <!-- Rewards tab -->
    <div id="ptab-rewards-content" class="hidden">
      <div class="card">
        <div class="bold mb-8">ğŸ Ø¥Ø¶Ø§ÙØ© Ù…ÙƒØ§ÙØ£Ø©</div>
        <select id="rew-child" style="margin-bottom:6px"><option value="">Ø§Ø®ØªØ± Ø§Ù„Ø·ÙÙ„...</option></select>
        <div id="rew-presets" style="display:grid;grid-template-columns:repeat(2,1fr);gap:6px;margin:6px 0 10px"></div>
        <input type="text" id="rew-desc" placeholder="Ø§ÙƒØªØ¨ Ø³Ø¨Ø¨ Ø§Ù„Ù…ÙƒØ§ÙØ£Ø© Ù„Ù„Ø·ÙÙ„..." style="margin-bottom:6px">
        <div class="text-xs text-muted" style="margin:-2px 0 8px">ÙƒÙ„ Ù‡Ø¯ÙŠØ© ØªØ¹Ø·ÙŠ â­ +10 Ùˆ ğŸ’ +3 (ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹)</div>
        <button class="btn btn-success btn-block btn-sm" id="btn-add-rew">ğŸ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù…ÙƒØ§ÙØ£Ø©</button>
      </div>
      <div class="card mt-8">
        <div class="bold mb-8">ğŸ† Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª Ø§Ù„Ù…Ù…Ù†ÙˆØ­Ø©</div>
        <div id="rewards-list"><p class="text-muted text-sm text-center">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…ÙƒØ§ÙØ¢Øª Ø¨Ø¹Ø¯</p></div>
      </div>
    </div>
    <!-- Settings tab -->
    <div id="ptab-settings-content" class="hidden">
      <div class="card"><div class="bold mb-8">ğŸ¨ Ø§Ù„Ù…Ø¸Ù‡Ø±</div><div class="theme-grid" id="theme-grid-parent"></div></div>
      
      <div class="card mt-8"><div class="bold mb-8">âš ï¸ Ø®ÙŠØ§Ø±Ø§Øª Ù…ØªÙ‚Ø¯Ù…Ø©</div><button class="btn btn-danger btn-block" id="btn-reset">ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø´Ù‡Ø±</button></div>
      <div class="card mt-8">
        <div class="bold mb-8">ğŸŒ™ Ø¥Ù†Ù‡Ø§Ø¡ Ø±Ù…Ø¶Ø§Ù† (Ø¨Ø¹Ø¯ Ø§Ù„Ù…ØºØ±Ø¨ ÙŠÙˆÙ… 29)</div>
        <div class="grid2 gap-8">
          <button class="btn btn-primary btn-sm" id="btn-end-ramadan-29">ğŸ‰ Ø§Ù„Ø¹ÙŠØ¯ ØºØ¯Ø§Ù‹ (29 ÙŠÙˆÙ…)</button>
          <button class="btn btn-ghost btn-sm" id="btn-continue-30">ğŸ“… Ø§Ø³ØªÙ…Ø±Ø§Ø± Ù„ÙŠÙˆÙ… 30</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ===== THEME PREVIEW ===== -->
<div id="screen-themes" class="screen">
  <div class="flex gap-8 mb-12"><button class="btn btn-ghost btn-sm" id="btn-themes-back">â† Ø±Ø¬ÙˆØ¹</button><div class="screen-title" style="flex:1;margin:0">ğŸ¨ Ø§Ø®ØªØ± Ø§Ù„Ù…Ø¸Ù‡Ø±</div></div>
  <div class="theme-grid mb-12" id="theme-grid-main"></div>
  <div class="bold mb-8 text-center">Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ù…Ø¸Ù‡Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ</div>
  <div class="theme-preview">
    <div class="theme-preview-title">Ø£Ù…Ø«Ù„Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù†Ø§ØµØ±</div>
    <div class="preview-row">
      <button class="btn btn-primary btn-sm">Ø²Ø± Ø±Ø¦ÙŠØ³ÙŠ</button>
      <button class="btn btn-secondary btn-sm">Ø²Ø± Ø«Ø§Ù†ÙˆÙŠ</button>
      <button class="btn btn-ghost btn-sm">Ø²Ø± ÙØ§Ø±Øº</button>
      <button class="btn btn-danger btn-sm">ØªØ­Ø°ÙŠØ±</button>
    </div>
    <div class="preview-row">
      <span class="badge">ÙˆØ³Ø§Ù…</span>
      <span style="background:var(--green);color:#fff;padding:3px 10px;border-radius:10px;font-size:0.75rem;font-weight:700">Ù†Ø¬Ø§Ø­</span>
      <span style="background:var(--rose);color:#fff;padding:3px 10px;border-radius:10px;font-size:0.75rem;font-weight:700">ØªÙ†Ø¨ÙŠÙ‡</span>
    </div>
    <div class="card" style="margin-top:8px">
      <div class="bold text-sm">Ø¨Ø·Ø§Ù‚Ø© Ù…Ø¹Ù„ÙˆÙ…Ø§Øª</div>
      <div class="text-muted text-xs mt-8">Ù‡Ø°Ø§ Ù†Øµ ØªÙˆØ¶ÙŠØ­ÙŠ Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©</div>
      <button class="btn btn-primary btn-sm mt-8" style="width:100%">Ø²Ø± Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©</button>
    </div>
    <div style="background:rgba(82,214,138,0.12);border:1px solid var(--green);border-radius:11px;padding:9px 12px;margin-top:8px;font-size:0.85rem;color:var(--green);font-weight:700">âœ… Ø±Ø³Ø§Ù„Ø© Ù†Ø¬Ø§Ø­</div>
    <div style="background:rgba(232,93,117,0.12);border:1px solid var(--rose);border-radius:11px;padding:9px 12px;margin-top:8px;font-size:0.85rem;color:var(--rose);font-weight:700">âš ï¸ Ø±Ø³Ø§Ù„Ø© ØªØ­Ø°ÙŠØ±</div>
  </div>
</div>

</div><!-- /app -->

<!-- ===== NAV ===== -->
<nav id="nav">
  <button class="nav-btn" data-s="home" id="nav-home"><span class="nav-i">ğŸ </span><span>Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span></button>
  <button class="nav-btn" data-s="progress" id="nav-progress"><span class="nav-i">ğŸ—ºï¸</span><span>Ø±Ø­Ù„ØªÙŠ</span></button>
  <button class="nav-btn" data-s="shop" id="nav-shop"><span class="nav-i">ğŸª</span><span>Ø§Ù„Ù…ØªØ¬Ø±</span></button>
  <button class="nav-btn" data-s="profiles" id="nav-profiles"><span class="nav-i">ğŸ‘¥</span><span>Ø§Ù„Ø¹Ø§Ø¦Ù„Ø©</span></button>
  <button class="nav-btn" data-s="themes" id="nav-themes"><span class="nav-i">ğŸ¨</span><span>Ø§Ù„Ù…Ø¸Ù‡Ø±</span></button>
</nav>

<!-- ===== MODALS ===== -->
<div id="m-theme" class="overlay hidden"><div class="sheet"><div class="sheet-handle"></div><div class="modal-title">ğŸ¨ Ø§Ø®ØªØ± Ø§Ù„Ù…Ø¸Ù‡Ø±</div><div class="theme-grid" id="theme-grid-modal"></div><button class="btn btn-primary btn-block mt-12" id="btn-close-theme">âœ“ Ø­ÙØ¸</button></div></div>
<div id="m-ate" class="overlay hidden"><div class="sheet"><div class="sheet-handle"></div><div class="modal-title">ğŸ’” Ù…Ø§Ø°Ø§ Ø­Ø¯Ø«ØŸ</div>
  <div class="flex-col gap-8">
    <button class="btn btn-ghost btn-block" data-r="sick">ğŸ¤’ ÙƒÙ†Øª Ù…Ø±ÙŠØ¶Ø§Ù‹ (Ù„Ø§ Ø®ØµÙ… + Ù†Ù‚Ø§Ø· Ø¬Ø²Ø¦ÙŠØ©)</button>
    <button class="btn btn-ghost btn-block" data-r="tired">ğŸ˜´ ØªØ¹Ø¨Øª (Ù†Ù‚Ø§Ø· Ø¬Ø²Ø¦ÙŠØ©)</button>
    <button class="btn btn-ghost btn-block" data-r="forgot">ğŸ˜… Ù†Ø³ÙŠØª (Ø¨Ø¯ÙˆÙ† Ø®ØµÙ…)</button>
    <button class="btn btn-ghost btn-block" data-r="intentional">ğŸ˜ Ù‚Ø±Ø±Øª Ø°Ù„Ùƒ (Ø®ØµÙ… Ø§Ù„Ù†Ù‚Ø§Ø·)</button>
  </div>
  <button class="btn btn-ghost btn-block mt-10" id="btn-cancel-ate">Ø¥Ù„ØºØ§Ø¡</button>
</div></div>
<div id="m-chest" class="overlay center hidden"><div class="sheet center-sheet" style="max-width:320px;text-align:center"><div style="font-size:3.5rem">ğŸ</div><div class="modal-title mt-8">ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ù…ÙƒØ§ÙØ£Ø©!</div><div id="chest-msg" class="text-muted mb-12">Ù…ÙƒØ§ÙØ£Ø©!</div><button class="btn btn-primary btn-block" id="btn-close-chest">ğŸ‰ Ø±Ø§Ø¦Ø¹!</button></div></div>
<div id="m-eid-q" class="overlay center hidden"><div class="sheet center-sheet"><div style="font-size:3.5rem;text-align:center">ğŸŒ™âœ¨</div><div class="modal-title">Ù‡Ù„Ø§Ù„ Ø§Ù„Ø¹ÙŠØ¯</div><p style="text-align:center;margin-bottom:18px">Ù‡Ù„ Ø£ÙØ¹Ù„Ù† Ø£Ù† ØºØ¯Ø§Ù‹ Ø£ÙˆÙ„ Ø£ÙŠØ§Ù… Ø¹ÙŠØ¯ Ø§Ù„ÙØ·Ø±ØŸ</p><div class="grid2 gap-10"><button class="btn btn-primary" style="padding:14px" id="btn-eid-yes">ğŸ‰ Ù†Ø¹Ù…! Ø§Ù„Ø¹ÙŠØ¯ ØºØ¯Ø§Ù‹</button><button class="btn btn-ghost" style="padding:14px" id="btn-eid-no">ğŸ“… Ù„Ø§ØŒ Ù†ÙƒÙ…Ù„ Ø§Ù„Ø«Ù„Ø§Ø«ÙŠÙ†</button></div></div></div>
<div id="m-eid-cel" class="overlay center hidden"><div class="sheet center-sheet"><div class="eid-wrap"><div style="font-size:4rem;animation:float 2s ease-in-out infinite">ğŸŒ™</div><h1 style="font-size:2rem;color:var(--accent);font-family:'Amiri',serif;margin:12px 0">Ø¹ÙŠØ¯ Ù…Ø¨Ø§Ø±Ùƒ</h1><p style="color:var(--teal);font-size:1.2rem;margin-bottom:6px">ÙˆÙƒÙ„ Ø¹Ø§Ù… ÙˆØ£Ù†ØªÙ… Ø¨Ø®ÙŠØ± ğŸŠ</p><div class="winner-card"><div style="font-size:1.6rem">ğŸ†</div><div class="bold text-accent">Ø¨Ø·Ù„ Ø±Ù…Ø¶Ø§Ù†</div><div id="win-av" style="font-size:2.8rem;margin:6px 0">ğŸŒ™</div><div id="win-name" style="font-size:1.4rem;font-weight:900">â€”</div><div id="win-pts" style="color:var(--teal)">0 Ù†Ù‚Ø·Ø©</div></div><div class="flex-col gap-8 mt-12"><button class="btn btn-primary btn-block" id="btn-eid-cert">ğŸ“œ Ø´Ù‡Ø§Ø¯ØªÙŠ</button><button class="btn btn-ghost btn-block" id="btn-eid-close">Ø¥ØºÙ„Ø§Ù‚</button></div></div></div></div>

<!-- ===== TOAST ===== -->
<!-- FAMILY CODE MODAL -->
<div id="m-famcode" class="overlay center hidden">
  <div class="sheet center-sheet" style="max-width:340px">
    <div class="sheet-handle"></div>
    <div class="modal-title">ğŸ”— Ø£Ø¯Ø®Ù„ Ø±Ù…Ø² Ø§Ù„Ø¹Ø§Ø¦Ù„Ø©</div>
    <p class="text-muted text-sm mb-8 text-center">Ø§Ø·Ù„Ø¨ Ø§Ù„Ø±Ù…Ø² Ù…Ù† Ø§Ù„ÙˆØ§Ù„Ø¯ Ù„ØªØ¸Ù‡Ø± ÙÙŠ Ù„ÙˆØ­Ø© Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ø¹Ø§Ø¦Ù„Ø©</p>
    <input type="text" id="fam-code-input" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø±Ù…Ø² Ù‡Ù†Ø§..." maxlength="8" style="text-align:center;font-size:1.5rem;letter-spacing:4px;font-weight:900;text-transform:uppercase;margin-bottom:10px">
    <button class="btn btn-primary btn-block" id="btn-fam-code-submit">âœ“ Ø±Ø¨Ø·</button>
    <button class="btn btn-ghost btn-block mt-8" id="btn-fam-code-close">Ø¥Ù„ØºØ§Ø¡</button>
  </div>
</div>
<div id="toast"></div>

<script src="app.js" defer></script>
</body>
</html>
